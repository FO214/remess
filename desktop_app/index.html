<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Remess - Message Analytics</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
  <!-- Update Notification -->
  <div class="update-notification" id="updateNotification" style="display: none;">
    <div class="update-content">
      <div class="update-icon">🎉</div>
      <div class="update-text">
        <h3>New Version Available!</h3>
        <p id="updateVersion">Remess v0.0.3 is ready to install</p>
        <div class="update-progress" id="updateProgress" style="display: none;">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <p class="progress-text" id="progressText">Downloading... 0%</p>
        </div>
        <p class="update-downloaded" id="updateDownloaded" style="display: none;">✅ Downloaded and ready!</p>
      </div>
      <div class="update-actions">
        <button class="update-btn-primary" id="updateNowBtn" style="display: none;">Update Now</button>
        <button class="update-btn-secondary" id="updateLaterBtn">Later</button>
      </div>
    </div>
  </div>

  <!-- Landing Page -->
  <div class="landing-container" id="landingContainer">
    <div class="landing-content">
      <div class="landing-hero">
        <img src="icon.png" alt="Remess" class="hero-icon">
        <h1 class="landing-title">Remess</h1>
        <p class="landing-subtitle">Ever wondered who you text the most? What year you went OFF? See your ENTIRE messaging history—every text, every year, your whole story.</p>
      </div>

      <button class="cta-button" id="getStartedBtn">
        <span>Get Started</span>
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M7.5 5l5 5-5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <p class="landing-footer">Free • Secure • Takes 2 minutes</p>
    </div>
    
    <div class="version-tag" id="versionTag">v0.0.0</div>

    <div class="floating-bubbles">
      <div class="bubble bubble-1">who'd you get with last night 👀</div>
      <div class="bubble bubble-2">NAHHHH 💀</div>
      <div class="bubble bubble-3">delete this immediately</div>
      <div class="bubble bubble-4">📸 caught in 4k</div>
      <div class="bubble bubble-5">down horrendous</div>
      <div class="bubble bubble-6">jail. straight to jail.</div>
      <div class="bubble bubble-7">NOT THE 3AM TEXT</div>
      <div class="bubble bubble-8">you thought you ate</div>
      <div class="bubble bubble-9">BRO WHAT</div>
      <div class="bubble bubble-10">i'm crying rn</div>
      <div class="bubble bubble-11">you're unhinged fr</div>
      <div class="bubble bubble-12">respectfully, seek help</div>
    </div>
  </div>

  <!-- Sign In Screen -->
  <div class="auth-container" id="authContainer" style="display: none;">
    <button class="back-button" id="backToLandingBtn">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <path d="M12.5 15l-5-5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Back
    </button>
    
    <div class="auth-content" style="z-index: 10;">
      <img src="icon.png" alt="Remess" class="auth-icon">
      <h1 class="auth-title">Remess</h1>
      <p class="auth-subtitle">Your complete messaging history awaits</p>
      
      <button class="google-signin-btn" id="googleSignInBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" fill="currentColor"/>
        </svg>
        <span>Sign In</span>
      </button>
      
      <p class="auth-footer">Connect to unlock your complete messaging history</p>
    </div>

    <div class="floating-bubbles">
      <div class="bubble bubble-1">your most cursed texts</div>
      <div class="bubble bubble-2">we won't judge... much 👀</div>
      <div class="bubble bubble-3">what did you say at 2am?</div>
      <div class="bubble bubble-4">oh this gonna be good</div>
      <div class="bubble bubble-5">📱 receipts incoming</div>
      <div class="bubble bubble-6">your chaos, visualized</div>
      <div class="bubble bubble-7">time to expose yourself</div>
      <div class="bubble bubble-8">no going back now</div>
      <div class="bubble bubble-9">your texting era awaits</div>
      <div class="bubble bubble-10">regrets incoming...</div>
      <div class="bubble bubble-11">prepare for embarrassment</div>
      <div class="bubble bubble-12">💀 uh oh</div>
      <div class="bubble bubble-13">this is gonna be embarrassing</div>
      <div class="bubble bubble-14">hope you're ready for this</div>
      <div class="bubble bubble-15">all your drunk texts 😬</div>
      <div class="bubble bubble-16">we've seen it all before</div>
      <div class="bubble bubble-17">can't unsee this</div>
      <div class="bubble bubble-18">yikes incoming</div>
      <div class="bubble bubble-19">your digital footprint 📸</div>
      <div class="bubble bubble-20">the tea is scalding ☕</div>
    </div>
  </div>

  <!-- Permissions Screen -->
  <div class="permissions-container" id="permissionsContainer" style="display: none;">
    <div class="permissions-content">
      <div class="permission-icon">🔒</div>
      <h1 class="permissions-title">One More Thing...</h1>
      <p class="permissions-subtitle">We need access to your Messages to show your stats</p>
      
      <div class="permissions-steps">
        <div class="permission-step">
          <div class="step-number">1</div>
          <div class="step-text">
            <h3>Open System Settings</h3>
            <p>Click the button below to open Privacy & Security settings</p>
          </div>
        </div>
        
        <div class="permission-step">
          <div class="step-number">2</div>
          <div class="step-text">
            <h3>Enable Full Disk Access</h3>
            <p>Find Remess in the list and toggle it on</p>
          </div>
        </div>
        
        <div class="permission-step">
          <div class="step-number">3</div>
          <div class="step-text">
            <h3>Restart the App</h3>
            <p>Close and reopen Remess to apply changes</p>
          </div>
        </div>
      </div>
      
      <button class="cta-button" id="openSettingsBtn">
        <span>Open System Settings</span>
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M7.5 5l5 5-5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      
      <button class="text-button" id="checkAccessBtn">I've granted access</button>
      
      <p class="permissions-footer">Your data stays on your device. We never send it anywhere.</p>
    </div>
  </div>

  <!-- Import Contacts Screen -->
  <div class="import-container" id="importContainer" style="display: none;">
    <div class="import-content">
      <div class="import-icon">📇</div>
      <h1 class="import-title">Import Your Contacts</h1>
      <p class="import-subtitle">To show contact names instead of phone numbers, import your contacts</p>
      
      <div class="import-steps">
        <div class="import-step">
          <div class="step-number">1</div>
          <div class="step-text">
            <h3>Export from Contacts App</h3>
            <p>Open Contacts → Select All (⌘A) → File → Export vCard...</p>
          </div>
        </div>
        
        <div class="import-step">
          <div class="step-number">2</div>
          <div class="step-text">
            <h3>Import the .vcf file</h3>
            <p>Click below to browse for the exported file</p>
          </div>
        </div>
      </div>
      
      <div class="drop-zone" id="dropZone">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
          <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <h3 class="drop-title">Import vCard File</h3>
        <p class="drop-text">Click to browse for your exported .vcf file</p>
        <input type="file" id="contactFileInput" accept=".vcf,.vcard" style="display: none;">
        <button class="browse-btn" id="browseBtn">Choose File</button>
      </div>
      
      <button class="text-button" id="skipImportBtn">Skip for now</button>
      
      <p class="import-footer">Your contacts stay on your device. We never upload them.</p>
    </div>
  </div>

  <!-- Loading Screen -->
  <div class="loading-container" id="loadingContainer" style="display: none;">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <h2 class="loading-title">Loading your data...</h2>
      <p class="loading-subtitle">Preparing your messaging story</p>
    </div>
  </div>

  <!-- Wrapped Experience Screen -->
  <div class="wrapped-container" id="wrappedContainer" style="display: none;">
    <div class="wrapped-progress">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <div class="wrapped-slides" id="wrappedSlides">
      <!-- Slide 1: Welcome -->
      <div class="wrapped-slide active" data-slide="0">
        <div class="slide-content">
          <h1 class="wrapped-title">Your LIFE in Texts</h1>
          <p class="wrapped-subtitle">Every message. Every conversation. Your entire story.</p>
          <div class="wrapped-year">📱</div>
        </div>
      </div>

      <!-- Slide 2: Total Messages -->
      <div class="wrapped-slide" data-slide="1">
        <div class="slide-content">
          <p class="slide-label">You've sent and received</p>
          <h1 class="wrapped-big-number" id="wrappedTotalMessages">0</h1>
          <p class="slide-label">texts total</p>
          <p class="slide-subtext">That's a lot of conversations! 💬</p>
        </div>
      </div>

      <!-- Slide 3: Top Contact -->
      <div class="wrapped-slide" data-slide="2">
        <div class="slide-content">
          <p class="slide-label">Your #1 contact</p>
          <div class="wrapped-contact-avatar" id="wrappedTopAvatar">
            <span id="wrappedTopInitial">S</span>
          </div>
          <h2 class="wrapped-contact-name" id="wrappedTopName">Sarah Johnson</h2>
          <p class="slide-subtext"><span id="wrappedTopCount">5,678</span> messages exchanged</p>
        </div>
      </div>

      <!-- Slide 4: Daily Average -->
      <div class="wrapped-slide" data-slide="3">
        <div class="slide-content">
          <p class="slide-label">You averaged</p>
          <h1 class="wrapped-big-number" id="wrappedAvgMessages">0</h1>
          <p class="slide-label">texts per day</p>
          <p class="slide-subtext">That's a lot of chatting! 📱</p>
        </div>
      </div>

      <!-- Slide 5: Most Active Year -->
      <div class="wrapped-slide" data-slide="4">
        <div class="slide-content">
          <p class="slide-label">You went OFF in</p>
          <h1 class="wrapped-year-big" id="wrappedMostActiveYear">2023</h1>
          <p class="slide-subtext"><span id="wrappedYearCount">12,456</span> messages that year! 🔥</p>
        </div>
      </div>

      <!-- Slide 6: Total Contacts -->
      <div class="wrapped-slide" data-slide="5">
        <div class="slide-content">
          <p class="slide-label">You've connected with</p>
          <h1 class="wrapped-big-number" id="wrappedTotalContacts">0</h1>
          <p class="slide-label">different people</p>
          <p class="slide-subtext">What a social butterfly! 🦋</p>
        </div>
      </div>

      <!-- Slide 7: CTA to Dashboard -->
      <div class="wrapped-slide" data-slide="6">
        <div class="slide-content">
          <h1 class="wrapped-title">Ready for more?</h1>
          <p class="wrapped-subtitle">Dive into all your texting data</p>
          <button class="explore-btn" id="exploreDashboardBtn">
            Let's Go
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M5 10h10M10 5l5 5-5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div class="wrapped-navigation">
      <button class="nav-btn" id="prevBtn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button class="nav-btn" id="nextBtn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>

    <button class="skip-btn" id="skipBtn">Skip</button>
  </div>

  <!-- Dashboard Screen -->
  <div class="dashboard-container" id="dashboardContainer" style="display: none;">
    <!-- Header -->
    <header class="dashboard-header">
      <div class="header-left">
        <img src="icon.png" alt="Remess" class="header-icon">
        <h1>Remess</h1>
      </div>
      <div class="header-right">
        <button class="header-action-btn refresh-btn" id="refreshDataBtn" title="Refresh data from iMessage">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M1 4v6h6M23 20v-6h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="user-profile-wrapper">
          <div class="user-profile" id="userProfile">
            <img id="userAvatar" class="user-avatar" alt="User">
            <div class="user-info">
              <span id="userName" class="user-name"></span>
              <span class="user-status">Connected</span>
            </div>
            <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="profile-dropdown" id="profileDropdown">
            <button class="dropdown-item" id="signOutBtn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Sign Out</span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="dashboard-main">
      <div class="welcome-section">
        <h2 class="section-title">Your Texting Stats</h2>
        <p class="section-subtitle">All the details about your messages</p>
      </div>

      <!-- Stats Grid -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2v10z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="stat-content">
            <p class="stat-label">Total Texts</p>
            <h3 class="stat-value" id="totalMessages">0</h3>
            <p class="stat-change">All time</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8zM23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="stat-content">
            <p class="stat-label">People</p>
            <h3 class="stat-value" id="totalConversations">0</h3>
            <p class="stat-change">You've texted</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="stat-content">
            <p class="stat-label">Daily Average</p>
            <h3 class="stat-value" id="avgMessages">0</h3>
            <p class="stat-change">Texts per day</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="stat-content">
            <p class="stat-label">Texts Sent</p>
            <h3 class="stat-value" id="sentMessages">0</h3>
            <p class="stat-change">From you</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M2 2l11 11M2 2l7 20 4-9 9-4L2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="stat-content">
            <p class="stat-label">Texts Received</p>
            <h3 class="stat-value" id="receivedMessages">0</h3>
            <p class="stat-change">From others</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 22V12h6v10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="stat-content">
            <p class="stat-label">Best Year</p>
            <h3 class="stat-value" id="mostActiveYear">2024</h3>
            <p class="stat-change" id="mostActiveYearCount">0 texts</p>
          </div>
        </div>

        <!-- Texts Over Time Chart Card -->
        <div class="stat-card chart-stat-card">
          <div class="stat-content">
            <p class="stat-label">Texts Over Time</p>
            <p class="stat-change" style="margin-bottom: 12px;">How much you've been texting each year</p>
          </div>
          <div class="chart-container-small">
            <canvas id="messagesChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Top People Section -->
      <div class="top-people-section">
        <div class="top-people-header">
          <div>
            <h3>Your Top People</h3>
            <p>Who you text the most</p>
          </div>
          <select class="year-selector" id="topContactsYearSelector">
            <option value="">All Time</option>
            <!-- Years will be populated dynamically -->
          </select>
        </div>
        <div class="top-contacts-list" id="topContactsList">
          <!-- Will be populated dynamically -->
        </div>
        <button class="load-more-btn" id="loadMoreContactsBtn" style="display: none;">
          <span>Load More</span>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M19 9l-7 7-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>

    </main>
  </div>

  <!-- Contact Detail View -->
  <div class="contact-detail-container" id="contactDetailContainer" style="display: none;">
    <header class="detail-header">
      <button class="back-button" id="backToDashboardBtn">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M12.5 15l-5-5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Back</span>
      </button>
    </header>

    <main class="detail-content">
      <!-- Contact Header -->
      <div class="detail-contact-header">
        <div class="detail-avatar-container">
          <img id="detailContactAvatar" class="detail-contact-avatar" alt="Contact">
        </div>
        <h2 id="detailContactName" class="detail-contact-name"></h2>
        <p id="detailContactHandle" class="detail-contact-handle"></p>
        
        <!-- Year Selector -->
        <div class="detail-year-selector-container">
          <select class="year-selector detail-year-selector" id="contactDetailYearSelector">
            <option value="">All Time</option>
            <!-- Years will be populated dynamically -->
          </select>
        </div>
      </div>

      <!-- Quick Stats -->
      <div class="detail-quick-stats">
        <div class="detail-stat-card">
          <div class="detail-stat-icon">💬</div>
          <div class="detail-stat-value" id="detailTotalMessages">0</div>
          <div class="detail-stat-label">Total texts</div>
        </div>
        <div class="detail-stat-card">
          <div class="detail-stat-icon">📤</div>
          <div class="detail-stat-value" id="detailSentMessages">0</div>
          <div class="detail-stat-label">You sent</div>
        </div>
        <div class="detail-stat-card">
          <div class="detail-stat-icon">📥</div>
          <div class="detail-stat-value" id="detailReceivedMessages">0</div>
          <div class="detail-stat-label">They sent</div>
        </div>
      </div>

      <!-- Fun Stats Section -->
      <div class="detail-sections">
        <div class="detail-section">
          <h3>📊 The Numbers</h3>
          <div class="detail-stats-grid">
            <div class="detail-info-card">
              <span class="detail-info-label">First message</span>
              <span class="detail-info-value" id="detailFirstMessage">-</span>
            </div>
            <div class="detail-info-card">
              <span class="detail-info-label">Most active year</span>
              <span class="detail-info-value" id="detailMostActiveYear">-</span>
            </div>
            <div class="detail-info-card">
              <span class="detail-info-label">Average per day</span>
              <span class="detail-info-value" id="detailAvgPerDay">-</span>
            </div>
            <div class="detail-info-card">
              <span class="detail-info-label">Longest streak</span>
              <span class="detail-info-value" id="detailLongestStreak">-</span>
            </div>
          </div>
        </div>

        <div class="detail-section">
          <h3>🗣️ Most Common Words</h3>
          <div class="word-cloud" id="detailWordCloud">
            <!-- Will be populated dynamically -->
          </div>
        </div>

        <div class="detail-section">
          <h3>😂 Emoji Stats</h3>
          <div class="emoji-stats" id="detailEmojiStats">
            <!-- Will be populated dynamically -->
          </div>
        </div>

        <div class="detail-section">
          <h3>🎭 Reaction Battle</h3>
          <p style="font-size: 14px; color: var(--medium-gray); margin-bottom: 20px;">
            Who reacts more? Let's find out...
          </p>
          <div class="reactions-container">
            <div class="reactions-column">
              <h4 class="reactions-column-title">You</h4>
              <div id="yourReactions" class="reactions-list">
                <!-- Will be populated dynamically -->
              </div>
            </div>
            <div class="reactions-divider"></div>
            <div class="reactions-column">
              <h4 class="reactions-column-title" id="theirReactionsTitle">Them</h4>
              <div id="theirReactions" class="reactions-list">
                <!-- Will be populated dynamically -->
              </div>
            </div>
          </div>
        </div>

        <div class="detail-section">
          <h3>📈 Your Conversation Over Time</h3>
          <div class="chart-container">
            <canvas id="detailMessagesChart"></canvas>
          </div>
        </div>

        <div class="detail-section">
          <h3>⚖️ Who Texts More?</h3>
          <div class="ratio-visualization">
            <div class="ratio-bar">
              <div class="ratio-bar-you" id="detailRatioYou" style="width: 50%">
                <span id="detailRatioYouPercent">50%</span>
              </div>
              <div class="ratio-bar-them" id="detailRatioThem" style="width: 50%">
                <span id="detailRatioThemPercent">50%</span>
              </div>
            </div>
            <div class="ratio-labels">
              <span>You</span>
              <span id="detailContactNameShort">Them</span>
            </div>
          </div>
        </div>

        <div class="detail-section">
          <h3>🔍 Search Messages</h3>
          <p style="font-size: 14px; color: var(--medium-gray); margin-bottom: 16px;">
            Search for any word or phrase in your conversation history
          </p>
          
          <div class="search-box">
            <input 
              type="text" 
              id="messageSearchInput" 
              class="search-input" 
              placeholder="Type a word to search..."
            />
            <button id="messageSearchBtn" class="search-button">Search</button>
          </div>
          
          <div id="searchResults" class="search-results" style="display: none;">
            <div class="search-count">
              <span id="searchResultCount">0</span> messages found
            </div>
            <div id="searchExamples" class="search-examples">
              <!-- Examples will be populated here -->
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
